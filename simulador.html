<!DOCTYPE html>
<html>
<title>W3.CSS</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
	<body>
    	Valor da venda:R$ <input class="w3-input w3-border w3-round-xxlarge" type="text" name="valor_unitario" id="valor_unitario" onChange="update()"/>
		Selecione a quantidade de parcelas<select class="w3-select" id="parcela" onChange="update()">
        <option value="" selected>Selecione...
        <option value="Débito">Débito
        <option value="Crédito">Crédito
        <option value="2">2
        <option value="3">3
        <option value="4">4
        <option value="5">5
        <option value="6">6
		<option value="7">7
        <option value="8">8
        <option value="9">9
        <option value="10">10
        <option value="11">11
		<option value="12">12
      </select>	
	    <br>
		<type="text" id="value">
		<br>
		<p>
		<label>VValor a Cobrar:R$</label>
		<input class="w3-input w3-border w3-round-xxlarge" type="text" id="text">
		<br>
		<p>
        <label>Valor da Parcela:R$</label>
		<input class="w3-input w3-border w3-round-xxlarge" type="text" id="text1">
		<p>
        <label>RECEBIMENTOS</label></p>
		<p>
		<label>CLIENTE (70 %):R$</label>
		<input class="w3-input w3-border w3-round-xxlarge" type="text" id="text2">
		<p>
        <label>LOJA (30 %):R$</label>
        <input class="w3-input w3-border w3-round-xxlarge" type="text" id="text3">

		<script type="text/javascript">
			function update() {
				var dict = {
					taxa_d: 0.9,
					taxa_c: 1.7,
					taxa_2: 3.87,
					taxa_3: 4.45,
					taxa_4: 5.03,
					taxa_5: 5.60,
					taxa_6: 6.17,
					taxa_7: 6.73,
					taxa_8: 7.29,
					taxa_9: 7.85,
					taxa_10: 8.40,
					taxa_11: 8.94,
					taxa_12: 9.45
				};
				var select = document.getElementById('parcela');
				var option = select.options[select.selectedIndex];	
            	var valor_da_venda = document.getElementById('valor_unitario').value.toString().replace(",", ".")
            
            	document.getElementById('text2').value = ((valor_da_venda*0.7).toFixed(2)).toString().replace(".", ",")
            	document.getElementById('text3').value = (valor_da_venda*0.3).toFixed(2).toString().replace(".", ",")
             
           
				switch(document.getElementById('value').value = option.value){
		
					case 'Débito':
						var taxa = dict.taxa_d/100; var fator = 1/(1-taxa);
						document.getElementById('text').value = (fator*valor_da_venda).toFixed(2).toString().replace(".", ",");
						document.getElementById('text1').value = " ";
					break;
					
					case 'Crédito':
						var taxa = dict.taxa_c/100; var fator = 1/(1-taxa);
						document.getElementById('text').value = (fator*valor_da_venda).toFixed(2).toString().replace(".", ",");
						document.getElementById('text1').value ='1 parcela de R$' + ''+ ((fator*valor_da_venda)/1).toFixed(2).toString().replace(".", ",");
					break;
					
					case '2':
						var taxa = dict.taxa_2/100; var fator = 1/(1-taxa);
						document.getElementById('text').value = (fator*valor_da_venda).toFixed(2).toString().replace(".", ",");
						document.getElementById('text1').value ='2 parcela de R$' + ''+ ((fator*valor_da_venda)/2).toFixed(2).toString().replace(".", ",");
					break;
					
					case '3':
						var taxa = dict.taxa_3/100; var fator = 1/(1-taxa);
						document.getElementById('text').value = (fator*valor_da_venda).toFixed(2).toString().replace(".", ",");
						document.getElementById('text1').value ='3 parcela de R$' + ''+ ((fator*valor_da_venda)/3).toFixed(2).toString().replace(".", ",");
					break;
					
					case '4':
						var taxa = dict.taxa_4/100; var fator = 1/(1-taxa);
						document.getElementById('text').value = (fator*valor_da_venda).toFixed(2).toString().replace(".", ",");
						document.getElementById('text1').value ='4 parcela de R$' + ''+ ((fator*valor_da_venda)/4).toFixed(2).toString().replace(".", ",");
					break;
					
					case '5':
						var taxa = dict.taxa_5/100; var fator = 1/(1-taxa);
						document.getElementById('text').value = (fator*valor_da_venda).toFixed(2).toString().replace(".", ",");
						document.getElementById('text1').value ='5 parcela de R$' + ''+ ((fator*valor_da_venda)/5).toFixed(2).toString().replace(".", ",");
					break;
					
					case '6':
						var taxa = dict.taxa_6/100; var fator = 1/(1-taxa);
						document.getElementById('text').value = (fator*valor_da_venda).toFixed(2).toString().replace(".", ",");
						document.getElementById('text1').value ='6 parcela de R$' + ''+ ((fator*valor_da_venda)/6).toFixed(2).toString().replace(".", ",");
					break;
											
					case '7':
						var taxa = dict.taxa_7/100; var fator = 1/(1-taxa);
						document.getElementById('text').value = (fator*valor_da_venda).toFixed(2).toString().replace(".", ",");
						document.getElementById('text1').value ='7 parcela de R$' + ''+ ((fator*valor_da_venda)/7).toFixed(2).toString().replace(".", ",");
					break;
					
					case '8':
						var taxa = dict.taxa_8/100; var fator = 1/(1-taxa);
						document.getElementById('text').value = (fator*valor_da_venda).toFixed(2).toString().replace(".", ",");
						document.getElementById('text1').value ='8 parcela de R$' + ''+ ((fator*valor_da_venda)/8).toFixed(2).toString().replace(".", ",");
					break;
					
					case '9':
						var taxa = dict.taxa_9/100; var fator = 1/(1-taxa);
						document.getElementById('text').value = (fator*valor_da_venda).toFixed(2).toString().replace(".", ",");
						document.getElementById('text1').value ='9 parcela de R$' + ''+ ((fator*valor_da_venda)/9).toFixed(2).toString().replace(".", ",");
					break;
					
					case '10':
						var taxa = dict.taxa_10/100; var fator = 1/(1-taxa);
						document.getElementById('text').value = (fator*valor_da_venda).toFixed(2).toString().replace(".", ",");
						document.getElementById('text1').value ='10 parcela de R$' + ''+ ((fator*valor_da_venda)/10).toFixed(2).toString().replace(".", ",");
					break;
					
					
					case '11':
						var taxa = dict.taxa_11/100; var fator = 1/(1-taxa);
						document.getElementById('text').value = (fator*valor_da_venda).toFixed(2).toString().replace(".", ",");
						document.getElementById('text1').value ='11 parcela de R$' + ''+ ((fator*valor_da_venda)/11).toFixed(2).toString().replace(".", ",");
					break;
					
					case '12':
						var taxa = dict.taxa_12/100; var fator = 1/(1-taxa);
						document.getElementById('text').value = (fator*valor_da_venda).toFixed(2).toString().replace(".", ",");
						document.getElementById('text1').value ='12 parcela de R$' + ''+ ((fator*valor_da_venda)/12).toFixed(2).toString().replace(".", ",");
					break;
										  
					default:
						console.log('CONDIÇÂO INVÁLIDA.');
					break;
				}
			}
			update();
		</script>
	</body>
</html>
